<app-header></app-header>
<div class="page-container">
    <div id="particles"></div>
    <div class="signup-container" data-aos="fade-in">
        <h1 class="heading">Sign Up</h1>
        <div class="progress-bar">
            <div class="progress-step" [class.active]="currentStep >= 1">1</div>
            <div class="progress-step" [class.active]="currentStep >= 2">2</div>
            <div class="progress-step" [class.active]="currentStep >= 3">3</div>
        </div>
        <form [formGroup]="signupForm" (ngSubmit)="onSubmit()" class="form">
            <!-- Step 1: Personal Information -->
            <div *ngIf="currentStep === 1" class="form-step">
                <div class="form-group">
                    <label for="fullName" class="label">Full Name</label>
                    <input formControlName="fullName" placeholder="John Doe" class="input-field" />
                </div>
                <div class="form-group">
                    <label for="email" class="label">Email Address</label>
                    <input formControlName="email" type="email" placeholder="john@example.com" class="input-field" />
                </div>
                <div class="form-group">
                    <label for="phone" class="label">Phone Number</label>
                    <input formControlName="phone" type="tel" placeholder="+1 123-456-7890" class="input-field" />
                </div>
                <button type="button" (click)="nextStep(2)" class="submit-btn">Next</button>
            </div>
            <!-- Step 2: Additional Information -->
            <div *ngIf="currentStep === 2" class="form-step">
                <div class="form-group">
                    <label for="dob" class="label">Date of Birth</label>
                    <input formControlName="dob" type="date" class="input-field" />
                </div>
                <div class="form-group">
                    <label for="gender" class="label">Gender</label>
                    <select formControlName="gender" class="select-field">
                        <option value="">Select Gender</option>
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="occupation" class="label">Occupation</label>
                    <input formControlName="occupation" placeholder="e.g., Teacher" class="input-field" />
                </div>
                <button type="button" (click)="nextStep(3)" class="submit-btn">Next</button>
            </div>
            <!-- Step 3: Emergency and Password -->
            <div *ngIf="currentStep === 3" class="form-step">
                <div class="form-group">
                    <label for="emergencyName" class="label">Emergency Contact Name</label>
                    <input formControlName="emergencyName" placeholder="Jane Doe" class="input-field" />
                </div>
                <div class="form-group">
                    <label for="emergencyNumber" class="label">Emergency Contact Number</label>
                    <input formControlName="emergencyNumber" type="tel" placeholder="+1 987-654-3210"
                        class="input-field" />
                </div>
                <div class="form-group">
                    <label for="password" class="label">Password</label>
                    <input formControlName="password" type="password" placeholder="••••••••" class="input-field" />
                    <div *ngIf="signupForm.get('password')?.invalid && signupForm.get('password')?.touched"
                        class="error-text">
                        Password must be at least 8 characters.
                    </div>
                </div>
                <button type="submit" class="submit-btn">Sign Up</button>
            </div>
            <p *ngIf="errorMessage" class="error-text center-text">{{ errorMessage }}</p>
        </form>
    </div>
</div>